<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lugog Clicker - Hra</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="game-page">
    <!-- Dark Mode Toggle -->
    <button class="dark-mode-toggle" id="darkModeToggle" title="P≈ôepnout dark mode">üåô</button>
    
    <!-- Top Status Bar -->
    <div class="top-status-bar">
        <div class="top-left">
            <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Otev≈ô√≠t menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="status-resources">
            <span class="resource-status" id="gooncoinsStatus">üí∞ <span id="gooncoinsValue">0</span> (+0/s)</span>
            <span class="resource-status gems-status" id="gemsStatus">üíé <span id="gemsValueTop">0</span></span>
            </div>
        </div>
        <div class="user-info-top">
            <span id="usernameDisplay">{{ username }}</span>
            {% if is_admin %}
            <a href="{{ url_for('admin_panel') }}" class="btn-admin-small">Admin panel</a>
            {% endif %}
            <a href="/logout" class="btn-logout-small">Odhl√°sit</a>
        </div>
    </div>
    
    <div class="mobile-nav-overlay" id="mobileNavOverlay"></div>
    
    <div class="game-container">
        <!-- Left Navigation Panel -->
        <nav class="left-nav">
            <div class="nav-header">
                <img src="{{ url_for('images', filename='lugog.png') }}" alt="Lugog" class="nav-logo">
                <h2>Lugog</h2>
                <button class="mobile-menu-close" id="mobileMenuClose" aria-label="Zav≈ô√≠t menu">√ó</button>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-tab="gather">
                    <span class="nav-icon">üè†</span>
                    <span>Domov</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="crafting">
                    <span class="nav-icon">‚öíÔ∏è</span>
                    <span>V√Ωroba</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="inventory">
                    <span class="nav-icon">üéí</span>
                    <span>Invent√°≈ô</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="combat">
                    <span class="nav-icon">‚öîÔ∏è</span>
                    <span>Boj</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="buildings">
                    <span class="nav-icon">üèõÔ∏è</span>
                    <span>Budovy</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="gems">
                    <span class="nav-icon">üíé</span>
                    <span>Drahokamy</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="economy">
                    <span class="nav-icon">üíπ</span>
                    <span>Ekonomika</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="cases">
                    <span class="nav-icon">üéÅ</span>
                    <span>Bedny</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="shop">
                    <span class="nav-icon">üíé</span>
                    <span>Shop</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="leaderboard">
                    <span class="nav-icon">üèÜ</span>
                    <span>S√≠≈à sl√°vy</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="character">
                    <span class="nav-icon">‚ö°</span>
                    <span>Postava</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="tavern">
                    <span class="nav-icon">üç∫</span>
                    <span>Hospoda</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="blacksmith">
                    <span class="nav-icon">üî®</span>
                    <span>Kov√°≈ô</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="dungeons">
                    <span class="nav-icon">üè∞</span>
                    <span>Dungeony</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="guilds">
                    <span class="nav-icon">üë•</span>
                    <span>Guildy</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="friends">
                    <span class="nav-icon">üë´</span>
                    <span>P≈ô√°tel√©</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="pets">
                    <span class="nav-icon">üê±</span>
                    <span>Mazl√≠ƒçci</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
                <li class="nav-item" data-tab="garden">
                    <span class="nav-icon">üå±</span>
                    <span>Zahrada</span>
                    <span class="nav-arrow">‚Üí</span>
                </li>
            </ul>
            
            <div class="nav-resources">
                <h3>Zdroje</h3>
                <div class="resource-list">
                    <div class="resource-item" id="gooncoins">
                        <span class="resource-icon">üí∞</span>
                        <span class="resource-name">Gooncoiny:</span>
                        <span class="resource-value" id="gooncoinsValueNav">0</span>
                        <span class="resource-rate" id="gooncoinsRate">+0/s</span>
                    </div>
                    <div class="resource-item" id="astma">
                        <span class="resource-icon">üí®</span>
                        <span class="resource-name">Astma:</span>
                        <span class="resource-value" id="astmaValueNav">0</span>
                        <span class="resource-rate" id="astmaRate">+0/s</span>
                    </div>
                    <div class="resource-item" id="poharky">
                        <span class="resource-icon">ü•É</span>
                        <span class="resource-name">Poh√°rky:</span>
                        <span class="resource-value" id="poharkyValueNav">0</span>
                        <span class="resource-rate" id="poharkyRate">+0/s</span>
                    </div>
                    <div class="resource-item" id="mrkev">
                        <span class="resource-icon">ü•ï</span>
                        <span class="resource-name">Mrkev:</span>
                        <span class="resource-value" id="mrkevValueNav">0</span>
                        <span class="resource-rate" id="mrkevRate">+0/s</span>
                    </div>
                    <div class="resource-item" id="uzen√©">
                        <span class="resource-icon">üçñ</span>
                        <span class="resource-name">Uzen√©:</span>
                        <span class="resource-value" id="uzen√©ValueNav">0</span>
                        <span class="resource-rate" id="uzen√©Rate">+0/s</span>
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- Main Game Area -->
        <main class="main-content">
            <div class="tab-content active" id="gather-tab">
                <h2>Gather</h2>
                <div class="gather-section">
                    <div class="lugog-click-area">
                        <button id="clickButton" class="gooncoin-button" type="button" aria-label="Klikni pro Gooncoiny">
                            <span class="coin-icon">üí∞</span>
                            <span class="coin-text">GOONCOIN</span>
                        </button>
                        <div class="click-info">
                            <span class="click-desc">Klikni na Lugog pro z√≠sk√°n√≠ Gooncoin≈Ø!</span>
                            <span class="click-value-display">+<span id="clickValue">1</span>üí∞ za klik</span>
                        </div>
                    </div>
                </div>
                
                <div class="auto-generators-section">
                    <h3>Auto-gener√°tory</h3>
                    <div id="autoGeneratorsList" class="generators-list">
                        <!-- Auto-generators will be loaded here -->
                    </div>
                </div>
                
                <div class="upgrades-section">
                    <h3>Upgrady</h3>
                    <div id="upgradesList" class="upgrades-list">
                        <!-- Upgrades will be loaded here -->
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="crafting-tab">
                <h2>‚öíÔ∏è V√Ωroba Equipment</h2>
                <div class="crafting-toolbar">
                    <input type="text" id="craftingSearch" placeholder="Hledej podle n√°zvu nebo slotu" class="crafting-search-input">
                    <select id="craftingRarityFilter" class="crafting-filter-select">
                        <option value="all">V≈°echny rarity</option>
                        <option value="common">Common</option>
                        <option value="rare">Rare</option>
                        <option value="epic">Epic</option>
                        <option value="legendary">Legendary</option>
                        <option value="unique">Unique</option>
                    </select>
                    <div class="crafting-sort">
                        <label for="craftSortSelect">≈òadit podle</label>
                        <select id="craftSortSelect">
                            <option value="unlocked">Odemƒçen√© ‚Üí Zamƒçen√©</option>
                            <option value="rarity">Rarita (vz√°cnƒõj≈°√≠ naho≈ôe)</option>
                            <option value="power">S√≠la bonus≈Ø</option>
                            <option value="newest">Nejnovƒõj≈°√≠ kusy</option>
                            <option value="name">Abecednƒõ A‚ÜíZ</option>
                        </select>
                    </div>
                    <div class="crafting-legend">
                        <span class="rarity-pill rarity-common">Common</span>
                        <span class="rarity-pill rarity-rare">Rare</span>
                        <span class="rarity-pill rarity-epic">Epic</span>
                        <span class="rarity-pill rarity-legendary">Legendary</span>
                        <span class="rarity-pill rarity-unique">Unique</span>
                    </div>
                </div>
                <div class="shop-container">
                    <div id="craftingList" class="crafting-list">
                        <!-- Crafting items will be loaded here -->
                    </div>
                    <div id="craftingDetail" class="crafting-detail">
                        <!-- Detail panel will appear here when item is selected -->
                    </div>
                </div>
            </div>

            <div class="tab-content" id="inventory-tab">
                <h2>üéí Invent√°≈ô &amp; Trh</h2>
                <div class="inventory-summary-grid" id="inventorySummary">
                    <!-- summary cards -->
                </div>
                <div class="inventory-toolbar">
                    <input type="text" id="inventorySearch" placeholder="Hledej podle n√°zvu nebo slotu">
                    <select id="inventoryRarityFilter">
                        <option value="all">V≈°echny rarity</option>
                        <option value="common">Common</option>
                        <option value="rare">Rare</option>
                        <option value="epic">Epic</option>
                        <option value="legendary">Legendary</option>
                        <option value="unique">Unique</option>
                    </select>
                    <button id="inventoryRefreshBtn" class="btn-refresh" title="Aktualizovat invent√°≈ô">‚Üª</button>
                </div>
                <div id="inventoryMessage" class="inventory-message muted"></div>
                <div class="inventory-panels">
                    <div class="inventory-list" id="inventoryList">
                        <p class="muted">Zat√≠m ≈æ√°dn√© polo≈æky.</p>
                    </div>
                    <div class="inventory-market-panel" id="inventoryMarketPanel">
                        <p class="muted">Tr≈æn√≠ data se naƒç√≠taj√≠...</p>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="combat-tab">
                <h2>‚öîÔ∏è Bojov√° Ar√©na</h2>
                <div class="combat-visual" id="combatVisual">
                    <div class="fighter fighter-left" id="combatFighterPlayer">
                        <div class="fighter-name" id="combatPlayerName">Ty</div>
                        <div class="fighter-sprite sprite-left"></div>
                        <div class="hp-container">
                            <div class="hp-bar"><div class="hp-fill" id="combatPlayerHp"></div></div>
                            <div class="hp-text" id="combatPlayerHpText">HP: 0 / 0</div>
                        </div>
                    </div>
                    <div class="fighter fighter-right" id="combatFighterEnemy">
                        <div class="fighter-name" id="combatEnemyName">Protivn√≠k</div>
                        <div class="fighter-sprite sprite-right"></div>
                        <div class="hp-container">
                            <div class="hp-bar"><div class="hp-fill" id="combatEnemyHp"></div></div>
                            <div class="hp-text" id="combatEnemyHpText">HP: 0 / 0</div>
                        </div>
                    </div>
                    <div class="combat-visual-log" id="combatVisualLog">Vyber souboj pro zobrazen√≠ animace.</div>
                </div>
                <div class="combat-grid">
                    <section class="combat-card">
                        <h3>Moje statistiky</h3>
                        <div id="playerCombatStats" class="combat-stats-placeholder">
                            <p class="muted">Naƒç√≠t√°m bojov√© statistiky...</p>
                        </div>
                    </section>
                    <section class="combat-card">
                        <h3>üíé Vz√°cn√© materi√°ly</h3>
                        <div id="rareMaterialList" class="rare-materials-grid">
                            <p class="muted">Zat√≠m jsi ≈æ√°dn√© nez√≠skal.</p>
                        </div>
                    </section>
                </div>
                
                <div class="combat-panels">
                    <section class="combat-section">
                        <div class="combat-section-header">
                            <h3>‚öîÔ∏è PvP Souboje</h3>
                            <p class="muted">Vyzyvej ostatn√≠ hr√°ƒçe a bra≈à sv≈Øj rating.</p>
                        </div>
                        <div id="opponentsList" class="opponents-list">
                            <p class="muted">Naƒç√≠t√°m protivn√≠ky...</p>
                        </div>
                    </section>
                    
                    <section class="combat-section">
                        <div class="combat-section-header">
                            <h3>üìú Kampa≈à</h3>
                            <p class="muted">Postupuj p≈ô√≠bƒõhem a lov unik√°tn√≠ dropy.</p>
                        </div>
                        <div id="campaignMonstersList" class="campaign-list">
                            <p class="muted">Naƒç√≠t√°m monstrum...</p>
                        </div>
                        <button id="campaignFightButton" class="btn-green" disabled>Vyber monstrum</button>
                    </section>
                </div>
                
                <div id="combatMessage" class="combat-message"></div>
                
                <section class="combat-section temple-section" id="templeSection">
                    <div class="combat-section-header">
                        <h3>üèõÔ∏è Chr√°m Lugogu</h3>
                        <p class="muted">Vyƒçisti m√≠stnosti chr√°mu, z√≠skej p≈ô√≠ze≈à a po≈æehn√°n√≠.</p>
                    </div>
                    <div class="temple-overview">
                        <div class="temple-pill">
                            <span>P≈ô√≠ze≈à</span>
                            <strong id="templeFavorValue">0</strong>
                        </div>
                        <div class="temple-pill">
                            <span>Po≈æehn√°n√≠</span>
                            <strong id="templeBlessingStatus">Postav Chr√°m</strong>
                        </div>
                        <div class="temple-pill">
                            <span>Cooldown</span>
                            <strong id="templeCooldown">‚Äì</strong>
                        </div>
                    </div>
                    <div class="temple-grid">
                        <div>
                            <h4>Chr√°mov√© m√≠stnosti</h4>
                            <div id="templeRooms" class="temple-rooms-grid">
                                <p class="muted">Postav Chr√°m, aby se m√≠stnosti odemkly.</p>
                            </div>
                        </div>
                        <div>
                            <h4>Po≈æehn√°n√≠</h4>
                            <div id="templeBlessings" class="temple-blessings-list">
                                <p class="muted">Sb√≠rej p≈ô√≠ze≈à por√°≈æen√≠m nep≈ô√°tel.</p>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section class="combat-section">
                    <div class="combat-section-header">
                        <h3>üóíÔ∏è Z√°znamy boj≈Ø</h3>
                    </div>
                    <div id="combatLogs" class="combat-logs">
                        <p class="muted">Zat√≠m ≈æ√°dn√© souboje.</p>
                    </div>
                </section>
            </div>
            
            <div class="tab-content" id="buildings-tab">
                <h2>üèõÔ∏è Budovy</h2>
                <div class="buildings-section">
                    <div class="buildings-filters" id="buildingsFilters">
                        <button class="buildings-filter-btn active" data-category="all">V≈°e</button>
                        <button class="buildings-filter-btn" data-category="production">V√Ωroba</button>
                        <button class="buildings-filter-btn" data-category="logistics">Logistika</button>
                        <button class="buildings-filter-btn" data-category="infrastructure">Infrastruktura</button>
                        <button class="buildings-filter-btn" data-category="support">Podpora</button>
                    </div>
                    <div id="buildingsList" class="buildings-list">
                        <!-- Buildings will be loaded here -->
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="gems-tab">
                <h2>üíé Drahokamy</h2>
                <p class="muted" style="margin-bottom: 20px;">Drahokamy trvale zvy≈°uj√≠ atributy postavy. Ka≈æd√Ω drahokam m√° 8 √∫rovn√≠.</p>
                <div id="gemsList" class="gems-list">
                    <!-- Gems will be loaded here -->
                </div>
            </div>
            
            <div class="tab-content" id="economy-tab">
                <h2>üíπ Ekonomika</h2>
                <div class="economy-section">
                    <div class="economy-grid">
                        <div class="inflation-card">
                            <div class="inflation-header">
                                <span>Inflace Gooncoinu</span>
                                <span id="inflationTrend" class="inflation-trend trend-flat">‚Üî</span>
                            </div>
                            <div class="inflation-rate" id="inflationRate">0.00%</div>
                            <div class="inflation-meta">
                                <div>
                                    <span class="meta-label">Obƒõh</span>
                                    <strong id="gooncoinSupply">0</strong>
                                </div>
                                <div>
                                    <span class="meta-label">Cenov√Ω multiplik√°tor</span>
                                    <strong id="inflationMultiplier">1.00√ó</strong>
                                </div>
                            </div>
                            <p class="inflation-note">Ceny v≈°ech n√°kup≈Ø se upravuj√≠ podle aktu√°ln√≠ inflace.</p>
                            
                            <div class="inflation-controls">
                                <h4>Kontrola inflace</h4>
                                <p class="control-description">Investuj Gooncoiny pro sn√≠≈æen√≠ inflace. ƒå√≠m v√≠ce investuje≈°, t√≠m vƒõt≈°√≠ efekt.</p>
                                <div class="control-input-group">
                                    <label for="inflationReductionAmount">Mno≈æstv√≠ Gooncoin≈Ø:</label>
                                    <input type="number" id="inflationReductionAmount" min="1000" step="1000" value="10000" placeholder="Min. 1000">
                                    <button id="reduceInflationBtn" class="btn-blue">Sn√≠≈æit inflaci</button>
                                </div>
                                <div id="inflationReductionPreview" class="reduction-preview">
                                    <p class="muted">Zadej mno≈æstv√≠ pro zobrazen√≠ efektu</p>
                                </div>
                                <div id="inflationReductionMessage" class="inflation-message"></div>
                            </div>
                        </div>
                        <div class="market-card">
                            <div class="market-header">
                                <h4>Trh s mƒõnami</h4>
                                <button id="marketRefreshBtn" class="btn-refresh" title="Aktualizovat kurzy">‚Üª</button>
                            </div>
                            <div id="marketRates" class="market-rates">
                                <p class="muted">Naƒç√≠t√°m kurzy...</p>
                            </div>
                            <div class="market-actions">
                                <div class="market-field">
                                    <label for="marketCurrency">Mƒõna</label>
                                    <select id="marketCurrency">
                                        <option value="astma">Astma</option>
                                        <option value="poharky">Poh√°rky</option>
                                        <option value="mrkev">Mrkev</option>
                                        <option value="uzen√©">Uzen√©</option>
                                    </select>
                                </div>
                                <div class="market-field">
                                    <label for="marketAmount">Mno≈æstv√≠</label>
                                    <input type="number" id="marketAmount" min="1" step="1" value="1">
                                </div>
                                <div class="market-buttons">
                                    <button id="marketBuyBtn" class="btn-green">Nakoupit</button>
                                    <button id="marketSellBtn" class="btn-red">Prodat</button>
                                </div>
                                <div id="marketMessage" class="market-message"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="resource-overview-section">
                        <div class="resource-overview-card">
                            <div class="resource-overview-header">
                                <h4>üì¶ P≈ôehled zdroj≈Ø</h4>
                                <p class="muted">Zde vid√≠≈° odkud v≈°echny zdroje poch√°zej√≠</p>
                            </div>
                            <div id="resourceOverview" class="resource-overview-list">
                                <p class="muted">Naƒç√≠t√°m p≈ôehled zdroj≈Ø...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="economy-stats-grid">
                        <div class="stat-card">
                            <h4>üìä Ekonomick√© statistiky</h4>
                            <div class="stat-item">
                                <span class="stat-label">Aktu√°ln√≠ inflace:</span>
                                <span class="stat-value" id="statInflationRate">0.00%</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Celkov√Ω obƒõh:</span>
                                <span class="stat-value" id="statTotalSupply">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Cenov√Ω multiplik√°tor:</span>
                                <span class="stat-value" id="statMultiplier">1.00√ó</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Minim√°ln√≠ inflace:</span>
                                <span class="stat-value">1.00%</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Maxim√°ln√≠ inflace:</span>
                                <span class="stat-value">45.00%</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <h4>üí° Tipy</h4>
                            <ul class="tips-list">
                                <li>Inflace se automaticky upravuje podle celkov√©ho obƒõhu Gooncoin≈Ø</li>
                                <li>Investov√°n√≠ Gooncoin≈Ø sni≈æuje inflaci, co≈æ sni≈æuje ceny v≈°ech n√°kup≈Ø</li>
                                <li>ƒå√≠m vy≈°≈°√≠ inflace, t√≠m dra≈æ≈°√≠ jsou v≈°echny n√°kupy</li>
                                <li>Trh s mƒõnami reaguje na zmƒõny inflace</li>
                                <li>Pravideln√© investice mohou udr≈æet inflaci pod kontrolou</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-content" id="cases-tab">
                <h2>üéÅ Case Opening</h2>
                <div class="cases-grid">
                    <section class="case-list-panel">
                        <div class="card-header">
                            <h3>Bedny</h3>
                            <p class="muted">Vyber si drop podobnƒõ jako v CSGO.</p>
                        </div>
                        <div id="caseList" class="case-list">
                            <p class="muted">Naƒç√≠t√°m bedny...</p>
                        </div>
                    </section>
                    <section class="case-open-panel">
                        <div class="case-detail-header">
                            <div>
                                <h3 id="caseDetailTitle">Vyber bednu</h3>
                                <p id="caseDetailDescription" class="muted">Klikni vlevo, nastav cenu a roztoƒç to.</p>
                            </div>
                            <div id="caseDetailPrice" class="case-detail-price"></div>
                        </div>
                        <div class="case-showcase">
                            <div class="case-strip" id="caseStrip"></div>
                            <div class="case-pointer"></div>
                        </div>
                        <div id="caseItems" class="case-items">
                            <p class="muted">Drop tabulka se zobraz√≠ po v√Ωbƒõru bedny.</p>
                        </div>
                        <div class="case-actions">
                            <button id="caseOpenButton" class="btn-purple" disabled>Vyber bednu</button>
                            <div id="caseResult" class="case-result muted">P≈ôiprav se na drop.</div>
                        </div>
                    </section>
                    <section class="case-history-panel">
                        <div class="card-header">
                            <h3>Posledn√≠ dropy</h3>
                            <p class="muted">Log toho, co ti padlo.</p>
                        </div>
                        <div id="caseHistoryList" class="case-history-list">
                            <p class="muted">Zat√≠m ≈æ√°dn√© otev≈ôen√© bedny.</p>
                        </div>
                    </section>
                </div>
            </div>
            
            <div class="tab-content" id="shop-tab">
                <h2>üíé Shop</h2>
                <div class="shop-header">
                    <div class="gems-display">
                        <span class="gems-icon">üíé</span>
                        <span class="gems-label">Drahokamy:</span>
                        <span class="gems-value" id="gemsValue">0</span>
                    </div>
                    <div class="active-boosts-display" id="activeBoostsDisplay">
                        <!-- Active boosts will be shown here -->
                    </div>
                </div>
                <div class="shop-categories">
                    <button class="shop-category-btn active" data-category="all">V≈°e</button>
                    <button class="shop-category-btn" data-category="gems">Drahokamy</button>
                    <button class="shop-category-btn" data-category="resources">Zdroje</button>
                    <button class="shop-category-btn" data-category="boosts">Boosty</button>
                    <button class="shop-category-btn" data-category="keys">Kl√≠ƒçe</button>
                    <button class="shop-category-btn" data-category="special">Speci√°ln√≠</button>
                </div>
                <div id="shopItemsList" class="shop-items-grid">
                    <p class="muted">Naƒç√≠t√°m shop...</p>
                </div>
                <div id="shopMessage" class="shop-message"></div>
            </div>
            
            <div class="tab-content" id="leaderboard-tab">
                <h2>üèÜ S√≠≈à sl√°vy</h2>
                <div id="leaderboardList" class="leaderboard-list">
                    <!-- Leaderboard will be loaded here -->
                </div>
            </div>
            
            <div class="tab-content" id="character-tab">
                <h2>‚ö° Postava</h2>
                <div class="character-panel-container">
                    <div class="character-main-panel">
                        <div class="character-portrait-section">
                            <div class="character-portrait-frame">
                                <div class="character-portrait" id="characterPortrait">
                                    <img src="{{ url_for('images', filename='lugog.png') }}" alt="Character" class="portrait-image">
                                </div>
                                <div class="character-name-level">
                                    <h3 id="characterName">{{ username }}</h3>
                                    <div class="level-info">
                                        <span>Level <strong id="characterLevel">1</strong></span>
                                    </div>
                                    <div class="class-selector-container" style="margin: 10px 0;">
                                        <label for="characterClassSelect" style="display: block; margin-bottom: 5px; font-size: 12px; color: #aaa;">T≈ô√≠da:</label>
                                        <select id="characterClassSelect" class="character-class-select" style="width: 100%; padding: 5px; border-radius: 4px; background: #2a2a2a; color: #fff; border: 1px solid #444;">
                                            <option value="warrior">‚öîÔ∏è Warrior - Bojovn√≠k</option>
                                            <option value="mage">üîÆ Mage - M√°g</option>
                                            <option value="scout">üèπ Scout - Zvƒõd</option>
                                        </select>
                                        <div id="classDescription" style="margin-top: 5px; font-size: 11px; color: #888; font-style: italic;"></div>
                                    </div>
                                    <div class="experience-bar-container">
                                        <div class="experience-bar">
                                            <div class="experience-fill" id="experienceFill" style="width: 0%"></div>
                                        </div>
                                        <div class="experience-text">
                                            <span id="currentExp">0</span> / <span id="neededExp">100</span> EXP
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="character-equipment-grid">
                                <div class="equipment-slot-char" data-slot="helmet" id="charHelmetSlot">
                                    <div class="slot-icon">‚õëÔ∏è</div>
                                    <div class="slot-label">HELMA</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="necklace" id="charNecklaceSlot">
                                    <div class="slot-icon">üíé</div>
                                    <div class="slot-label">N√ÅHRDELN√çK</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="weapon" id="charWeaponSlot">
                                    <div class="slot-icon">‚öîÔ∏è</div>
                                    <div class="slot-label">ZBRA≈á</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="armor" id="charArmorSlot">
                                    <div class="slot-icon">üõ°Ô∏è</div>
                                    <div class="slot-label">ZBROJ</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="belt" id="charBeltSlot">
                                    <div class="slot-icon">üîó</div>
                                    <div class="slot-label">P√ÅS</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="ring" id="charRingSlot">
                                    <div class="slot-icon">üíç</div>
                                    <div class="slot-label">PRSTEN</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="gloves" id="charGlovesSlot">
                                    <div class="slot-icon">üß§</div>
                                    <div class="slot-label">RUKAVICE</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="boots" id="charBootsSlot">
                                    <div class="slot-icon">üë¢</div>
                                    <div class="slot-label">BOTY</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="special" id="charSpecialSlot">
                                    <div class="slot-icon">üçÄ</div>
                                    <div class="slot-label">SPECI√ÅLN√ç</div>
                                </div>
                                <div class="equipment-slot-char" data-slot="vehicle" id="charVehicleSlot">
                                    <div class="slot-icon">üöó</div>
                                    <div class="slot-label">VOZIDLO</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="character-stats-section">
                            <div class="stats-header">
                                <h3>üìä Statistiky</h3>
                                <div class="available-points-badge" id="availablePointsBadge">
                                    <span>Dostupn√© body: <strong id="availablePoints">0</strong></span>
                                </div>
                            </div>
                            
                            <div class="character-stats-grid">
                                <div class="stat-row">
                                    <div class="stat-info">
                                        <span class="stat-icon">üí™</span>
                                        <div>
                                            <div class="stat-name">S√≠la</div>
                                            <div class="stat-description">Zvy≈°uje √∫tok</div>
                                        </div>
                                    </div>
                                    <div class="stat-value" id="statStrength">10</div>
                                    <button class="stat-upgrade-btn" data-stat="strength" id="upgradeStrength">+</button>
                                </div>
                                
                                <div class="stat-row">
                                    <div class="stat-info">
                                        <span class="stat-icon">üéØ</span>
                                        <div>
                                            <div class="stat-name">Obratnost</div>
                                            <div class="stat-description">Zvy≈°uje √∫nik a krit</div>
                                        </div>
                                    </div>
                                    <div class="stat-value" id="statDexterity">10</div>
                                    <button class="stat-upgrade-btn" data-stat="dexterity" id="upgradeDexterity">+</button>
                                </div>
                                
                                <div class="stat-row">
                                    <div class="stat-info">
                                        <span class="stat-icon">üß†</span>
                                        <div>
                                            <div class="stat-name">Inteligence</div>
                                            <div class="stat-description">Zvy≈°uje v√Ωdƒõlky</div>
                                        </div>
                                    </div>
                                    <div class="stat-value" id="statIntelligence">10</div>
                                    <button class="stat-upgrade-btn" data-stat="intelligence" id="upgradeIntelligence">+</button>
                                </div>
                                
                                <div class="stat-row">
                                    <div class="stat-info">
                                        <span class="stat-icon">‚ù§Ô∏è</span>
                                        <div>
                                            <div class="stat-name">Odolnost</div>
                                            <div class="stat-description">Zvy≈°uje HP a obranu</div>
                                        </div>
                                    </div>
                                    <div class="stat-value" id="statConstitution">10</div>
                                    <button class="stat-upgrade-btn" data-stat="constitution" id="upgradeConstitution">+</button>
                                </div>
                                
                                <div class="stat-row">
                                    <div class="stat-info">
                                        <span class="stat-icon">üçÄ</span>
                                        <div>
                                            <div class="stat-name">≈†tƒõst√≠</div>
                                            <div class="stat-description">Zvy≈°uje krit a √∫nik</div>
                                        </div>
                                    </div>
                                    <div class="stat-value" id="statLuck">10</div>
                                    <button class="stat-upgrade-btn" data-stat="luck" id="upgradeLuck">+</button>
                                </div>
                            </div>
                            
                            <div class="combat-stats-display">
                                <h4>‚öîÔ∏è Bojov√© statistiky</h4>
                                <div class="combat-stats-grid">
                                    <div class="combat-stat-item">
                                        <span class="combat-stat-label">√ötok:</span>
                                        <span class="combat-stat-value" id="combatAttack">0</span>
                                    </div>
                                    <div class="combat-stat-item">
                                        <span class="combat-stat-label">Obrana:</span>
                                        <span class="combat-stat-value" id="combatDefense">0</span>
                                    </div>
                                    <div class="combat-stat-item">
                                        <span class="combat-stat-label">HP:</span>
                                        <span class="combat-stat-value" id="combatHp">0</span>
                                    </div>
                                    <div class="combat-stat-item">
                                        <span class="combat-stat-label">√önik:</span>
                                        <span class="combat-stat-value" id="combatEvasion">0%</span>
                                    </div>
                                    <div class="combat-stat-item">
                                        <span class="combat-stat-label">Krit:</span>
                                        <span class="combat-stat-value" id="combatCrit">0%</span>
                                    </div>
                                    <div class="combat-stat-item">
                                        <span class="combat-stat-label">≈†tƒõst√≠:</span>
                                        <span class="combat-stat-value" id="combatLuck">0</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="character-exchange-panel">
                        <h3>üí∞ Smƒõna Gooncoin≈Ø</h3>
                        <p class="exchange-description">Dr≈æ tlaƒç√≠tko pro kontinu√°ln√≠ smƒõnu Gooncoin≈Ø za Character Points! Rychlost se postupnƒõ zvy≈°uje.</p>
                        <div class="exchange-rate-info">
                            <span>Kurz: <strong>1000 üí∞ = 1 bod</strong></span>
                            <span style="margin-left: 15px; font-size: 0.9em; color: #888;">Rychlost se zvy≈°uje p≈ôi dr≈æen√≠</span>
                        </div>
                        <div class="exchange-input-group" style="display: none;">
                            <label for="exchangeAmount">Mno≈æstv√≠ Gooncoin≈Ø:</label>
                            <input type="number" id="exchangeAmount" min="1000" step="1000" value="1000" placeholder="Min. 1000">
                            <div class="exchange-preview" id="exchangePreview">
                                <p class="muted">Z√≠sk√°≈°: <strong id="pointsPreview">1</strong> bod(≈Ø)</p>
                            </div>
                        </div>
                        <button id="exchangePointsBtn" class="btn-exchange">Dr≈æ pro smƒõnu</button>
                        <div id="exchangeMessage" class="exchange-message"></div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="tavern-tab">
                <div class="tavern-header">
                    <div class="tavern-title-section">
                        <h2>üç∫ Hospoda</h2>
                        <p class="tavern-subtitle">P≈ôijmi questy a z√≠skej odmƒõny za sv√© dobrodru≈æstv√≠</p>
                    </div>
                </div>
                
                <div class="tavern-container">
                    <div class="tavern-card active-quest-section" id="activeQuestSection">
                        <div class="card-header-tavern">
                            <h3>‚ö° Aktivn√≠ Quest</h3>
                            <p class="muted">Tv≈Øj aktu√°ln√≠ √∫kol</p>
                        </div>
                        <div id="activeQuestDisplay" class="quest-card">
                            <p class="muted">≈Ω√°dn√Ω aktivn√≠ quest</p>
                        </div>
                    </div>
                    
                    <div class="tavern-card available-quests-section">
                        <div class="card-header-tavern">
                            <h3>üìã Dostupn√© Quests</h3>
                            <p class="muted">Vyber si nov√Ω quest</p>
                        </div>
                        <div id="availableQuestsList" class="quests-grid">
                            <p class="muted">Naƒç√≠t√°m questy...</p>
                        </div>
                    </div>
                    
                    <div class="tavern-card mount-section">
                        <div class="card-header-tavern">
                            <h3>üê¥ Mount (K≈Ø≈à)</h3>
                            <p class="muted">Zrychli sv√© cestov√°n√≠</p>
                        </div>
                        <div id="mountStatus" class="mount-status">
                            <p class="muted">Naƒç√≠t√°m...</p>
                        </div>
                        <div id="mountShop" class="mount-shop">
                            <h4>Koupit konƒõ</h4>
                            <div id="mountsList"></div>
                        </div>
                    </div>
                    
                    <div class="tavern-card tavern-activities-section">
                        <div class="card-header-tavern">
                            <h3>üé≤ Hospodsk√© Aktivity</h3>
                            <p class="muted">Z√°bava a bonusy v hospodƒõ</p>
                        </div>
                        <div class="tavern-activities-grid">
                            <div class="tavern-activity-card">
                                <h4>üç∫ Pivo pro s√≠lu</h4>
                                <p class="muted">Doƒçasn√Ω bonus +10% s√≠ly na 30 minut</p>
                                <p><strong>Cena: 500 Gooncoin≈Ø</strong></p>
                                <button class="btn-blue" onclick="buyTavernBeer('strength')">Koupit pivo</button>
                            </div>
                            <div class="tavern-activity-card">
                                <h4>üé¥ Blackjack</h4>
                                <p class="muted">Interaktivn√≠ hra v karty - vyhraje≈° nebo prohraje≈°</p>
                                <p><strong>S√°zka: 100-1000 Gooncoin≈Ø</strong></p>
                                <button class="btn-green" onclick="openTavernBlackjack()">Zahr√°t Blackjack</button>
                            </div>
                            <div class="tavern-activity-card">
                                <h4>üé≤ Kostky</h4>
                                <p class="muted">H√°zej kostkami a s√°zej na souƒçet</p>
                                <p><strong>S√°zka: 50-500 Gooncoin≈Ø</strong></p>
                                <button class="btn-purple" onclick="openTavernDice()">Hr√°t kostky</button>
                            </div>
                            <div class="tavern-activity-card">
                                <h4>üçª Pivo pro ≈°tƒõst√≠</h4>
                                <p class="muted">Doƒçasn√Ω bonus +10% ≈°tƒõst√≠ na 30 minut</p>
                                <p><strong>Cena: 500 Gooncoin≈Ø</strong></p>
                                <button class="btn-blue" onclick="buyTavernBeer('luck')">Koupit pivo</button>
                            </div>
                            <div class="tavern-activity-card">
                                <h4>üéØ ≈†ipky</h4>
                                <p class="muted">Zahraj si ≈°ipky - z√≠skej bonus EXP</p>
                                <p><strong>Cena: 200 Gooncoin≈Ø</strong></p>
                                <button class="btn-purple" onclick="openTavernDarts()">Hr√°t ≈°ipky</button>
                            </div>
                            <div class="tavern-activity-card">
                                <h4>üé∞ Ruleta</h4>
                                <p class="muted">S√°zej na barvu nebo ƒç√≠slo - vyhraje≈° nebo prohraje≈°</p>
                                <p><strong>S√°zka: 100-1000 Gooncoin≈Ø</strong></p>
                                <button class="btn-green" onclick="openTavernRoulette()">Zahr√°t ruletu</button>
                            </div>
                            <div class="tavern-activity-card">
                                <h4>ü•ö Sko≈ô√°pky</h4>
                                <p class="muted">Interaktivn√≠ hra - najdi kuliƒçku pod sko≈ô√°pkou</p>
                                <p><strong>S√°zka: 100-500 Gooncoin≈Ø</strong></p>
                                <button class="btn-green" onclick="openTavernShells()">Hr√°t sko≈ô√°pky</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="blacksmith-tab">
                <div class="blacksmith-header">
                    <div class="blacksmith-title-section">
                        <h2>üî® Kov√°≈ô</h2>
                        <p class="blacksmith-subtitle">Vylep≈°uj a rozb√≠jej sv√© vybaven√≠ pomoc√≠ kovu a du≈°√≠</p>
                    </div>
                </div>
                
                <div class="blacksmith-container">
                    <div class="blacksmith-materials-card">
                        <div class="card-header-blacksmith">
                            <h3>üì¶ Materi√°ly</h3>
                            <p class="muted">Z√≠sk√°≈° je rozb√≠jen√≠m item≈Ø</p>
                        </div>
                        <div id="blacksmithMaterials" class="materials-display-grid">
                            <div class="material-card">
                                <div class="material-icon-wrapper metal-icon">
                                    <span class="material-icon-large">‚öôÔ∏è</span>
                                </div>
                                <div class="material-info">
                                    <span class="material-label">Kov</span>
                                    <strong class="material-value" id="metalAmount">0</strong>
                                </div>
                            </div>
                            <div class="material-card">
                                <div class="material-icon-wrapper souls-icon">
                                    <span class="material-icon-large">üëª</span>
                                </div>
                                <div class="material-info">
                                    <span class="material-label">Du≈°e</span>
                                    <strong class="material-value" id="soulsAmount">0</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="blacksmith-actions-grid">
                        <div class="blacksmith-action-card upgrade-card" style="grid-column: 1 / -1;">
                            <div class="action-card-header">
                                <div class="action-icon-wrapper upgrade-icon-wrapper">
                                    <span class="action-icon">‚¨ÜÔ∏è</span>
                                </div>
                                <div>
                                    <h3>Upgrade Itemu</h3>
                                    <p class="action-description">Zvy≈° level sv√©ho vybaven√≠</p>
                                </div>
                            </div>
                            <div class="action-card-content">
                                <div style="margin-bottom: 15px;">
                                    <label for="blacksmithSearch" class="select-label">üîç Vyhled√°v√°n√≠:</label>
                                    <input type="text" id="blacksmithSearch" class="action-select" placeholder="Hledat itemy..." style="width: 100%; padding: 8px;">
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label for="blacksmithFilter" class="select-label">üéØ Filtr podle rarity:</label>
                                    <select id="blacksmithFilter" class="action-select" style="width: 100%;">
                                        <option value="">V≈°echny rarity</option>
                                        <option value="common">Common</option>
                                        <option value="uncommon">Uncommon</option>
                                        <option value="rare">Rare</option>
                                        <option value="epic">Epic</option>
                                        <option value="legendary">Legendary</option>
                                    </select>
                                </div>
                                <div class="blacksmith-items-container">
                                    <div id="blacksmithItemsList">
                                        <p class="muted" style="text-align: center; padding: 20px;">Naƒç√≠t√°m itemy...</p>
                                    </div>
                                </div>
                                <button id="blacksmithUpgradeBtn" class="btn-upgrade" style="width: 100%;">
                                    <span>üî®</span>
                                    <span>Upgradovat vybran√© itemy</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="blacksmith-action-card disassemble-card" style="grid-column: 1 / -1;">
                            <div class="action-card-header">
                                <div class="action-icon-wrapper disassemble-icon-wrapper">
                                    <span class="action-icon">üí•</span>
                                </div>
                                <div>
                                    <h3>Rozb√≠t Item</h3>
                                    <p class="action-description">Z√≠skej materi√°ly zpƒõt (50%)</p>
                                </div>
                            </div>
                            <div class="action-card-content">
                                <div style="margin-bottom: 15px;">
                                    <label for="blacksmithDisassembleSearch" class="select-label">üîç Vyhled√°v√°n√≠:</label>
                                    <input type="text" id="blacksmithDisassembleSearch" class="action-select" placeholder="Hledat itemy..." style="width: 100%; padding: 8px;">
                                </div>
                                <div style="margin-bottom: 15px;">
                                    <label for="blacksmithDisassembleFilter" class="select-label">Filtr podle rarity:</label>
                                    <select id="blacksmithDisassembleFilter" class="action-select" style="width: 100%;">
                                        <option value="">V≈°echny rarity</option>
                                        <option value="common">Common</option>
                                        <option value="uncommon">Uncommon</option>
                                        <option value="rare">Rare</option>
                                        <option value="epic">Epic</option>
                                        <option value="legendary">Legendary</option>
                                    </select>
                                </div>
                                <div style="max-height: 300px; overflow-y: auto; border: 1px solid #444; border-radius: 8px; padding: 10px; margin-bottom: 15px;">
                                    <div id="blacksmithDisassembleItemsList" style="display: grid; gap: 8px;">
                                        <p class="muted" style="text-align: center; padding: 20px;">Naƒç√≠t√°m itemy...</p>
                                    </div>
                                </div>
                                <button id="blacksmithDisassembleBtn" class="btn-disassemble" style="width: 100%;">
                                    <span>‚ö°</span>
                                    <span>Rozb√≠t vybran√© itemy</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="dungeons-tab">
                <div class="dungeons-header">
                    <div class="dungeons-title-section">
                        <h2>üè∞ Dungeony</h2>
                        <p class="dungeons-subtitle">Prozkoumej temn√© jeskynƒõ a poraz mocn√© bosse</p>
                    </div>
                </div>
                
                <div class="dungeons-container">
                    <div id="dungeonsList" class="dungeons-grid">
                        <p class="muted">Naƒç√≠t√°m dungeony...</p>
                    </div>
                    <div id="dungeonDetail" class="dungeon-detail" style="display: none;">
                        <h3 id="dungeonDetailName"></h3>
                        <div id="dungeonDetailContent"></div>
                        
                        <!-- Combat Visual for Dungeon -->
                        <div class="combat-visual dungeon-combat" id="dungeonCombatVisual" style="display: none; margin: 20px 0;">
                            <div class="fighter fighter-left" id="dungeonFighterPlayer">
                                <div class="fighter-name" id="dungeonPlayerName">Ty</div>
                                <div class="fighter-sprite sprite-left"></div>
                                <div class="hp-container">
                                    <div class="hp-bar">
                                        <div class="hp-fill" id="dungeonPlayerHp"></div>
                                    </div>
                                    <div class="hp-text" id="dungeonPlayerHpText">100 / 100</div>
                                </div>
                            </div>
                            <div class="fighter fighter-right" id="dungeonFighterEnemy">
                                <div class="fighter-name" id="dungeonEnemyName">Protivn√≠k</div>
                                <div class="fighter-sprite sprite-right"></div>
                                <div class="hp-container">
                                    <div class="hp-bar">
                                        <div class="hp-fill" id="dungeonEnemyHp"></div>
                                    </div>
                                    <div class="hp-text" id="dungeonEnemyHpText">100 / 100</div>
                                </div>
                            </div>
                            <div class="combat-visual-log" id="dungeonCombatVisualLog">P≈ôiprav se na boj...</div>
                        </div>
                        
                        <button id="dungeonFightBtn" class="btn-dungeon-fight">Bojovat</button>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="guilds-tab">
                <div class="guilds-header">
                    <div class="guilds-title-section">
                        <h2>üë• Guildy</h2>
                        <p class="guilds-subtitle">Spoj se s ostatn√≠mi a z√≠skej bonusy za spolupr√°ci</p>
                    </div>
                </div>
                
                <div class="guilds-container">
                    <div class="guilds-card my-guild-section" id="myGuildSection">
                        <div class="card-header-guilds">
                            <h3>Moje Guilda</h3>
                            <p class="muted">Tv√° aktu√°ln√≠ guilda</p>
                        </div>
                        <div id="myGuildDisplay">
                            <p class="muted">Nejsi v ≈æ√°dn√© guildƒõ</p>
                        </div>
                    </div>
                    
                    <div class="guilds-card guilds-list-section">
                        <div class="card-header-guilds">
                            <h3>Seznam Guild</h3>
                            <p class="muted">P≈ôipoj se k existuj√≠c√≠ guildƒõ</p>
                        </div>
                        <div id="guildsList" class="guilds-grid">
                            <p class="muted">Naƒç√≠t√°m guildy...</p>
                        </div>
                    </div>
                    
                    <div class="guilds-card create-guild-section">
                        <div class="card-header-guilds">
                            <h3>Vytvo≈ôit Guildu</h3>
                            <p class="muted">Zalo≈æ novou guildu</p>
                        </div>
                        <div class="create-guild-form">
                            <input type="text" id="guildNameInput" placeholder="N√°zev guildy" class="guild-input">
                            <textarea id="guildDescInput" placeholder="Popis" class="guild-textarea"></textarea>
                            <button id="createGuildBtn" class="btn-guild-create">Vytvo≈ôit</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="friends-tab">
                <div class="friends-header">
                    <div class="friends-title-section">
                        <h2>üë´ P≈ô√°tel√©</h2>
                        <p class="friends-subtitle">Spravuj sv√© p≈ô√°tele a najdi nov√©</p>
                    </div>
                </div>
                
                <div class="friends-container">
                    <!-- Search for new friends -->
                    <div class="friends-card search-section">
                        <div class="card-header-friends">
                            <h3>Naj√≠t p≈ô√°tele</h3>
                            <p class="muted">Vyhledej u≈æivatele podle jm√©na</p>
                        </div>
                        <div class="friends-search-form">
                            <input type="text" id="friendSearchInput" placeholder="Zadej jm√©no u≈æivatele..." class="friend-input">
                            <button id="friendSearchBtn" class="btn-friend-search">Hledat</button>
                        </div>
                        <div id="friendSearchResults" class="friends-search-results">
                            <!-- Search results will appear here -->
                        </div>
                    </div>
                    
                    <!-- Pending incoming requests -->
                    <div class="friends-card pending-incoming-section">
                        <div class="card-header-friends">
                            <h3>P≈ô√≠choz√≠ ≈æ√°dosti</h3>
                            <p class="muted" id="pendingIncomingCount">≈Ω√°dn√© ≈æ√°dosti</p>
                        </div>
                        <div id="pendingIncomingList" class="friends-list">
                            <p class="muted">Naƒç√≠t√°m...</p>
                        </div>
                    </div>
                    
                    <!-- Pending outgoing requests -->
                    <div class="friends-card pending-outgoing-section">
                        <div class="card-header-friends">
                            <h3>Odeslan√© ≈æ√°dosti</h3>
                            <p class="muted" id="pendingOutgoingCount">≈Ω√°dn√© ≈æ√°dosti</p>
                        </div>
                        <div id="pendingOutgoingList" class="friends-list">
                            <p class="muted">Naƒç√≠t√°m...</p>
                        </div>
                    </div>
                    
                    <!-- Friends list -->
                    <div class="friends-card friends-list-section">
                        <div class="card-header-friends">
                            <h3>Moji p≈ô√°tel√©</h3>
                            <p class="muted" id="friendsCount">0 p≈ô√°tel</p>
                        </div>
                        <div id="friendsList" class="friends-list">
                            <p class="muted">Naƒç√≠t√°m...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="pets-tab">
                <div class="pets-header">
                    <div class="pets-title-section">
                        <h2>üê± Mazl√≠ƒçci</h2>
                        <p class="pets-subtitle">Z√≠skej vƒõrn√© spoleƒçn√≠ky pro sv√© dobrodru≈æstv√≠</p>
                    </div>
                </div>
                
                <div class="pets-container">
                    <div class="pets-card pets-section">
                        <div class="card-header-pets">
                            <h3>üì¶ Moji Mazl√≠ƒçci</h3>
                            <p class="muted">Tvoji aktivn√≠ spoleƒçn√≠ci</p>
                        </div>
                        <div id="myPetsList" class="pets-grid">
                            <p class="muted">Zat√≠m nem√°≈° ≈æ√°dn√© mazl√≠ƒçky.</p>
                        </div>
                    </div>
                    
                    <div class="pets-card pets-section">
                        <div class="card-header-pets">
                            <h3>üõí Koupit Mazl√≠ƒçka</h3>
                            <p class="muted">Roz≈°i≈ô svou sb√≠rku</p>
                        </div>
                        <div class="pets-shop-toolbar">
                            <select id="petRarityFilter" class="pets-filter-select">
                                <option value="all">V≈°echny rarity</option>
                                <option value="common">Common</option>
                                <option value="rare">Rare</option>
                                <option value="epic">Epic</option>
                                <option value="legendary">Legendary</option>
                                <option value="unique">Unique</option>
                            </select>
                        </div>
                        <div id="availablePetsList" class="pets-grid">
                            <p class="muted">Naƒç√≠t√°m mazl√≠ƒçky...</p>
                        </div>
                    </div>
                </div>
                <div id="petsMessage" class="pets-message"></div>
            </div>
            
            <div class="tab-content" id="garden-tab">
                <div class="garden-header">
                    <div class="garden-title-section">
                        <h2>üå± Zahrada</h2>
                        <p class="garden-subtitle">Pƒõstuj ovoce pro sv√© mazl√≠ƒçky</p>
                    </div>
                </div>
                
                <div class="garden-container">
                    <div class="garden-card garden-section garden-plots-section">
                        <div class="card-header-garden">
                            <h3>üåæ Moje Z√°honky</h3>
                            <p class="muted">Zasazen√° sem√≠nka</p>
                        </div>
                        <div id="gardenPlotsList" class="garden-plots-grid">
                            <p class="muted">Naƒç√≠t√°m z√°honky...</p>
                        </div>
                    </div>
                    
                    <div class="garden-card garden-section garden-shop-section">
                        <div class="card-header-garden">
                            <h3>üõí Obchod se Sem√≠nky</h3>
                            <p class="muted">Kupte si sem√≠nka za gooncoiny</p>
                        </div>
                        <div id="gardenShopList" class="garden-shop-grid">
                            <p class="muted">Naƒç√≠t√°m obchod...</p>
                        </div>
                    </div>
                </div>
                <div id="gardenMessage" class="garden-message"></div>
            </div>
        </main>
        
        <!-- Right Panel - Story/Events -->
        <aside class="right-panel">
            <div class="story-section">
                <h3>üìñ P≈ô√≠bƒõh</h3>
                <div id="currentChapter" class="chapter-info">
                    <!-- Current chapter info -->
                </div>
                <div class="lore-codex">
                    <div class="lore-codex-header">
                        <h4>üìú Kroniky Lugogu</h4>
                        <p id="loreCodexSummary">Lore se odemyk√° postupem v kapitol√°ch.</p>
                    </div>
                    <div class="lore-codex-tabs" id="loreCodexTabs">
                        <!-- Lore tabs -->
                    </div>
                    <div class="lore-codex-content" id="loreCodexContent">
                        <p class="lore-placeholder">Dokonƒçi kapitolu 1, aby se odemkl prvn√≠ z√°pis.</p>
                    </div>
                </div>
            </div>
            
            <div class="quests-section">
                <h3>üéØ Quests</h3>
                <div id="questsList" class="quests-list">
                    <!-- Quests will be loaded here -->
                </div>
            </div>
            
            <div class="events-section">
                <h3>üîî Events</h3>
                <div id="eventsList" class="events-list">
                    <!-- Events will be loaded here -->
                </div>
            </div>
        </aside>
    </div>
    
    <!-- Quest Waiting Screen Modal -->
    <div id="questWaitingModal" class="quest-waiting-modal" style="display: none;">
        <div class="quest-waiting-content">
            <div class="quest-waiting-header">
                <h2>‚öîÔ∏è Quest prob√≠h√°...</h2>
                <button class="close-modal" onclick="closeQuestWaiting()">√ó</button>
            </div>
            <div class="quest-waiting-info">
                <p id="questWaitingName" class="quest-name"></p>
                <div class="quest-timer">
                    <div class="timer-circle">
                        <span id="questWaitingTimer" class="timer-text">0:00</span>
                    </div>
                </div>
                <p class="quest-message">Poƒçkej, a≈æ quest skonƒç√≠...</p>
            </div>
        </div>
    </div>
    
    <!-- Tavern Blackjack Modal -->
    <div id="tavernBlackjackModal" class="gamble-modal" style="display: none;">
        <div class="gamble-modal-content">
            <div class="gamble-modal-header">
                <h2>üé¥ Blackjack</h2>
                <button class="close-modal" onclick="closeTavernBlackjack()">√ó</button>
            </div>
            <div class="gamble-modal-body">
                <div class="blackjack-setup" id="blackjackSetup">
                    <label>S√°zka (100-1000 Gooncoin≈Ø):</label>
                    <input type="number" id="blackjackBet" min="100" max="1000" value="100" step="50">
                    <button class="btn-green" onclick="startBlackjack()">Zaƒç√≠t hru</button>
                </div>
                <div class="blackjack-game" id="blackjackGame" style="display: none;">
                    <div class="blackjack-dealer">
                        <h3>Dealer</h3>
                        <div class="blackjack-cards" id="dealerCards"></div>
                        <div class="blackjack-total" id="dealerTotal"></div>
                    </div>
                    <div class="blackjack-player">
                        <h3>Tvoje karty</h3>
                        <div class="blackjack-cards" id="playerCards"></div>
                        <div class="blackjack-total" id="playerTotal"></div>
                    </div>
                    <div class="blackjack-actions" id="blackjackActions">
                        <button class="btn-green" onclick="blackjackHit()">Hit</button>
                        <button class="btn-red" onclick="blackjackStand()">Stand</button>
                    </div>
                    <div class="blackjack-result" id="blackjackResult"></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tavern Dice Modal -->
    <div id="tavernDiceModal" class="gamble-modal" style="display: none;">
        <div class="gamble-modal-content">
            <div class="gamble-modal-header">
                <h2>üé≤ Kostky</h2>
                <button class="close-modal" onclick="closeTavernDice()">√ó</button>
            </div>
            <div class="gamble-modal-body">
                <div class="dice-setup" id="diceSetup">
                    <label>S√°zka (50-500 Gooncoin≈Ø):</label>
                    <input type="number" id="diceBet" min="50" max="500" value="100" step="50">
                    <label>H√°dej souƒçet (2-12):</label>
                    <input type="number" id="diceGuess" min="2" max="12" value="7">
                    <button class="btn-purple" onclick="rollDice()">Hodit kostky</button>
                </div>
                <div class="dice-result" id="diceResult" style="display: none;">
                    <div class="dice-display" id="diceDisplay"></div>
                    <div class="dice-outcome" id="diceOutcome"></div>
                    <button class="btn-purple" onclick="resetDice()">Hr√°t znovu</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tavern Shells Modal -->
    <div id="tavernShellsModal" class="gamble-modal" style="display: none;">
        <div class="gamble-modal-content">
            <div class="gamble-modal-header">
                <h2>ü•ö Sko≈ô√°pky</h2>
                <button class="close-modal" onclick="closeTavernShells()">√ó</button>
            </div>
            <div class="gamble-modal-body">
                <div class="shells-setup" id="shellsSetup">
                    <label>S√°zka (100-500 Gooncoin≈Ø):</label>
                    <input type="number" id="shellsBet" min="100" max="500" value="100" step="50">
                    <button class="btn-green" onclick="startShellsGame()">Zaƒç√≠t hru</button>
                </div>
                <div class="shells-game" id="shellsGame" style="display: none;">
                    <p class="shells-instruction">Sleduj, pod kterou sko≈ô√°pkou je kuliƒçka!</p>
                    <div class="shells-container" id="shellsContainer">
                        <div class="shell" data-shell="0" onclick="selectShell(0)">
                            <div class="shell-top">ü•ö</div>
                        </div>
                        <div class="shell" data-shell="1" onclick="selectShell(1)">
                            <div class="shell-top">ü•ö</div>
                        </div>
                        <div class="shell" data-shell="2" onclick="selectShell(2)">
                            <div class="shell-top">ü•ö</div>
                        </div>
                    </div>
                    <div class="shells-result" id="shellsResult"></div>
                    <button class="btn-green" onclick="resetShells()" id="shellsResetBtn" style="display: none;">Hr√°t znovu</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tavern Darts Modal -->
    <div id="tavernDartsModal" class="gamble-modal" style="display: none;">
        <div class="gamble-modal-content">
            <div class="gamble-modal-header">
                <h2>üéØ ≈†ipky</h2>
                <button class="close-modal" onclick="closeTavernDarts()">√ó</button>
            </div>
            <div class="gamble-modal-body">
                <div class="darts-setup" id="dartsSetup">
                    <p class="muted">Zahraj si ≈°ipky a z√≠skej bonus EXP!</p>
                    <p><strong>Cena: 200 Gooncoin≈Ø</strong></p>
                    <p class="muted">EXP odmƒõna: 50-200 EXP</p>
                    <button class="btn-purple" onclick="playTavernDarts()">Hr√°t ≈°ipky</button>
                </div>
                <div class="darts-result" id="dartsResult" style="display: none;">
                    <div class="darts-outcome" id="dartsOutcome"></div>
                    <button class="btn-purple" onclick="resetDarts()">Hr√°t znovu</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tavern Roulette Modal -->
    <div id="tavernRouletteModal" class="gamble-modal" style="display: none;">
        <div class="gamble-modal-content">
            <div class="gamble-modal-header">
                <h2>üé∞ Ruleta</h2>
                <button class="close-modal" onclick="closeTavernRoulette()">√ó</button>
            </div>
            <div class="gamble-modal-body">
                <div class="roulette-setup" id="rouletteSetup">
                    <label>S√°zka (100-1000 Gooncoin≈Ø):</label>
                    <input type="number" id="rouletteBet" min="100" max="1000" value="100" step="50">
                    <label>Typ s√°zky:</label>
                    <select id="rouletteBetType" class="roulette-bet-select">
                        <option value="red">üî¥ ƒåerven√° (2x)</option>
                        <option value="black">‚ö´ ƒåern√° (2x)</option>
                        <option value="green">üü¢ Zelen√°/0 (35x)</option>
                    </select>
                    <label>Nebo s√°zej na konkr√©tn√≠ ƒç√≠slo (0-36):</label>
                    <input type="number" id="rouletteNumber" min="0" max="36" value="0" placeholder="0-36 (35x)">
                    <button class="btn-green" onclick="spinRoulette()">Roztoƒçit ruletu</button>
                </div>
                <div class="roulette-result" id="rouletteResult" style="display: none;">
                    <div class="roulette-wheel" id="rouletteWheel"></div>
                    <div class="roulette-outcome" id="rouletteOutcome"></div>
                    <button class="btn-green" onclick="resetRoulette()">Hr√°t znovu</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
    <script src="{{ url_for('static', filename='js/friends.js') }}"></script>
</body>
</html>
